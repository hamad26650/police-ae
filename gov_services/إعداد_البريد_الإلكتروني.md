# إعداد البريد الإلكتروني لإرسال طلبات مخاطبة البنوك

## الطريقة 1: استخدام Gmail (موصى به للتجربة)

### الخطوات:

1. **إنشاء App Password في Gmail:**
   - اذهب إلى: https://myaccount.google.com/apppasswords
   - سجل دخول بحساب Gmail الخاص بك
   - اختر "البريد الإلكتروني" و "الكمبيوتر الشخصي"
   - انسخ كلمة المرور التي تم إنشاؤها (16 حرف)

2. **إعداد متغيرات البيئة:**
   
   **في Windows (PowerShell):**
   ```powershell
   $env:EMAIL_HOST_USER="your-email@gmail.com"
   $env:EMAIL_HOST_PASSWORD="your-16-char-app-password"
   ```
   
   **أو في CMD:**
   ```cmd
   set EMAIL_HOST_USER=your-email@gmail.com
   set EMAIL_HOST_PASSWORD=your-16-char-app-password
   ```

3. **تشغيل الاختبار:**
   ```bash
   python test_bank_email.py
   ```

## الطريقة 2: تعديل settings.py مباشرة (للتجربة فقط)

⚠️ **تحذير:** لا تستخدم هذه الطريقة في الإنتاج!

افتح `gov_services/settings.py` وعدل السطور 403-404:

```python
EMAIL_HOST_USER = 'your-email@gmail.com'  # بدلاً من os.environ.get(...)
EMAIL_HOST_PASSWORD = 'your-app-password'  # بدلاً من os.environ.get(...)
```

## الطريقة 3: استخدام Console Backend (للتطوير فقط)

إذا لم تكن تريد إرسال إيميلات حقيقية، سيتم عرض الإيميلات في Terminal/Console.

## إيميلات البنوك الحالية:

- **بنك ابوظبي التجاري:** `adcb@bank.ae`
- **مصرف ابوظبي الاسلامي:** `adib@bank.ae`
- **بنك دبي الاسلامي:** `dib@bank.ae`

⚠️ **ملاحظة:** هذه إيميلات تجريبية. قم بتغييرها في `services/utils/email_service.py` (السطور 540-544) إلى الإيميلات الفعلية للبنوك.

## اختبار الإرسال:

1. **تشغيل ملف الاختبار:**
   ```bash
   cd gov_services
   python test_bank_email.py
   ```

2. **أو تجربة من الموقع:**
   - افتح: http://127.0.0.1:8000/interior-ministry/bank-contact/
   - املأ النموذج
   - اضغط "إرسال الطلب"
   - تحقق من إيميل البنك المحدد

## استكشاف الأخطاء:

- **خطأ المصادقة:** تأكد من استخدام App Password وليس كلمة المرور العادية
- **Timeout:** تحقق من اتصال الإنترنت
- **لا يظهر الإيميل:** تحقق من مجلد Spam/Junk

