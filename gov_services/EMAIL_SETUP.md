# 📧 إعداد نظام البريد الإلكتروني - Outlook

## ✅ تم التطبيق بنجاح!

---

## 🔧 الإعدادات في Railway

### **1. افتح Railway Dashboard**
```
https://railway.app
```

### **2. اختر المشروع**
- اضغط على مشروعك
- اضغط على `Variables` في القائمة الجانبية

### **3. أضف المتغيرات الثلاثة:**

```env
EMAIL_HOST_USER=albuhairah.test@outlook.com
EMAIL_HOST_PASSWORD=H@mad.95335
DEFAULT_FROM_EMAIL=albuhairah.test@outlook.com
```

**خطوات الإضافة:**
1. اضغط `+ New Variable`
2. Name: `EMAIL_HOST_USER`
3. Value: `albuhairah.test@outlook.com`
4. اضغط `Add`

5. كرر للمتغير الثاني:
   - Name: `EMAIL_HOST_PASSWORD`
   - Value: `H@mad.95335`

6. كرر للمتغير الثالث:
   - Name: `DEFAULT_FROM_EMAIL`
   - Value: `albuhairah.test@outlook.com`

### **4. حفظ وإعادة النشر**
- بعد إضافة المتغيرات الثلاثة
- Railway سيعيد نشر المشروع **تلقائياً**
- انتظر 2-3 دقائق

---

## 📋 كيف يعمل النظام

### **1. المتعامل يقدم استعلام**
- يدخل صفحة الاستعلام
- يعبئ النموذج (مركز الشرطة، رقم البلاغ، السنة، البريد الإلكتروني)
- يرسل الطلب

### **2. الموظف يستقبل الطلب**
- يظهر في لوحة التحكم
- يشاهد كل التفاصيل
- يكتب الرد

### **3. النظام يرسل بريد إلكتروني**
- يرسل للمتعامل على إيميله
- إيميل منسق وجميل
- يحتوي على:
  - رقم الاستعلام
  - رقم البلاغ
  - الرد الكامل
  - معلومات المركز

### **4. المتعامل يستلم الرد**
- يصله إيميل فوري
- يقرأ الرد
- ✅ تم!

---

## 🎯 المميزات

✅ **مجاني 100%** - لا رسوم إطلاقاً  
✅ **سريع** - التوصيل فوري  
✅ **احترافي** - تصميم منسق وجميل  
✅ **آمن** - الباسورد مشفر في Railway  
✅ **سهل** - لا يحتاج موافقات أو أوراق  
✅ **موثوق** - Outlook خدمة من Microsoft  

---

## 🧪 التجربة

### **بعد النشر:**

1. **افتح الموقع:**
   ```
   https://[your-site].up.railway.app/check-report-status/
   ```

2. **اعبي النموذج:**
   - مركز الشرطة: (اختر أي مركز)
   - رقم البلاغ: 123
   - السنة: 2025
   - البريد الإلكتروني: **إيميلك الشخصي للتجربة**

3. **ارسل الطلب**

4. **افتح صفحة الموظفين:**
   ```
   https://[your-site].up.railway.app/staff/login/
   Username: admin
   Password: admin123
   ```

5. **ارد على الطلب:**
   - اضغط على أيقونة العين 👁️
   - اكتب ردك
   - اضغط "إرسال الرد"

6. **تفقد إيميلك:**
   - ✅ المفروض وصلك إيميل منسق وجميل!

---

## 🐛 حل المشاكل

### **1. البريد الإلكتروني ما وصل؟**

**تحقق من:**
- ✅ المتغيرات في Railway صحيحة
- ✅ الباسورد صحيح (بدون فراغات)
- ✅ تفقد مجلد Spam/Junk
- ✅ انتظر 1-2 دقيقة (أحياناً يتأخر قليلاً)

### **2. خطأ في تسجيل الدخول لـ Outlook؟**

**إذا عندك التحقق بخطوتين مفعل:**
1. اذهب إلى: https://account.microsoft.com/security
2. اضغط `Advanced security options`
3. اضغط `App passwords`
4. اضغط `+ Create a new app password`
5. انسخ الباسورد الجديد
6. استخدمه في `EMAIL_HOST_PASSWORD` بدلاً من الباسورد العادي

### **3. خطأ "SMTPAuthenticationError"؟**

**الحل:**
- استخدم App Password بدلاً من الباسورد العادي
- تأكد أن الإيميل والباسورد صحيحين
- جرب تسجيل الدخول على Outlook.com يدوياً أولاً

---

## 🚀 الخطوة التالية

**بعد التجربة:**
- ✅ إذا اشتغل كل شي → جاهزين!
- ⚠️ إذا في مشكلة → قلي وأصلحها فوراً

---

## 📞 الدعم

**إذا واجهت أي مشكلة:**
- تفقد Railway Logs
- تفقد إعدادات Outlook
- تواصل معي

---

© 2025 مركز شرطة البحيرة - نظام البريد الإلكتروني

